changes

move bases into resources in kustomization files
changed path in bootstrap.yaml for windows hosts
changed POSTGRES_USER to PGUSER
changed username to postgres
added secrets dataverse-s3 and dataverse-certificate in personas/demo/secrets.yaml
changed image dataverse version from v4.20 to 4.20 (v4.20 was not existing) in kustomaization.yaml
added command to postgres deployment to initialize user and database
added "--no-check-certificate" in docker file to enable docker build (glassfish dockerfile)
added port 4848 to dataverse deployment
postgres version to 13.11
solr version to 8.11.1
dataverse version to 5.13
major changes in bash scripts for dataverse

changed solr ready probe in dataverse deployment and bootstrapjob and lifeness and readinessprobe in solr deployment
from:
command: ['sh', '-c',
          'until curl -sS -f "http://${SOLR_SERVICE_HOST}:${SOLR_SERVICE_PORT}/solr/collection1/admin/ping" 2>&1 | grep "status.:.OK";
           do echo waiting for solr; sleep 3; done;']
to:
command: ["/bin/sh", "-c", 'until curl -sS -f "http://${SOLR_SERVICE_HOST}:${SOLR_SERVICE_PORT}/solr/admin/info/system" 2>&1 | grep "status" | grep "0";
           do echo waiting for solr; sleep 3; done;']
added custom entrypoint for solr which starts solr in foreground and creates required collection collection1

added RUN chown -R payara:payara /opt in dataverse dockerfile to give payara permission and ebale logo upload for dataverse collection via ui
changed DOCROOT_DIR from /docroot to /opt/docroot --> allow dataverse to access logos
changed mount path of persistent volume docroot from /docroot to /opt/docroot to mount the correct directory

create directory /opt/payara/appserver/glassfish/domains/domain1/applications/dataverse/logos via dockerfile
added persistent volume for this directory to make the custom logo persistent

commands:
kubectl apply -f personas/demo/secrets.yaml
kubectl apply -k personas\prod-skel\envs\env1
run when deployment is done:
kubectl create -f k8s/dataverse/jobs/bootstrap.yaml


kubectl delete -f k8s/dataverse/jobs/bootstrap.yaml
kubectl delete -k personas\prod-skel\envs\env1
kubectl delete -f personas/demo/secrets.yaml

kubectl apply -f prod-skel/bases/minio-standalone/pvc.yaml
kubectl apply -f prod-skel/bases/minio-standalone/svc.yaml
kubectl apply -f prod-skel/bases/minio-standalone/deployment.yaml
kubectl apply -f prod-skel/bases/minio-standalone/job.yaml

kubectl delete -f prod-skel/bases/minio-standalone/job.yaml
kubectl delete -f prod-skel/bases/minio-standalone/deployment.yaml
kubectl delete -f prod-skel/bases/minio-standalone/svc.yaml
kubectl delete -f prod-skel/bases/minio-standalone/pvc.yaml

Docker build commands:
docker build --no-cache -t iqss/dataverse-k8s:5.14 -f docker/dataverse-k8s/payara/Dockerfile .
docker build --no-cache -t iqss/dataverse-k8s:tt -f docker/dataverse-k8s/payara/Dockerfile .
docker build --no-cache -t iqss/solr-k8s:8.11.1 -f docker/solr-k8s/Dockerfile .

Payara admin console:
kubectl port-forward -n dv-test service/dataverse 4848:4848